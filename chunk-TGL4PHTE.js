import{I as l,a as u,b as f,f as b,h as a}from"./chunk-KMM2L4F2.js";var h=class o{giftsSubject=new a(this.getInitialGifts());gifts$=this.giftsSubject.asObservable();cartSubject=new a([]);cart$=this.cartSubject.asObservable();checkoutSubject=new a([]);checkout$=this.checkoutSubject.asObservable();constructor(){}getInitialGifts(){return[{id:"client-1",name:"Executive Pen Set",description:"Premium leather pen set perfect for corporate gifts",price:45.99,image:"/assets/client/LeatherPen.webp",category:"Clients"},{id:"client-2",name:"Corporate Gift Box",description:"Elegant gift hamper with premium items",price:89.99,image:"/assets/client/CorporateBox.webp",category:"Clients"},{id:"client-3",name:"Personalized Mug",description:"Custom ceramic mug with company branding",price:15.99,image:"/assets/client/PersonalizedMug.webp",category:"Clients"}]}getGifts(){return this.gifts$}addGift(e){let t=this.giftsSubject.value;this.giftsSubject.next([...t,e])}addToCart(e){let t=this.cartSubject.value,i=t.findIndex(r=>r.gift.id===e.id);i>-1?t[i].count+=1:t.push({gift:e,count:1}),this.cartSubject.next([...t])}removeFromCart(e){let t=this.cartSubject.value.filter(i=>i.gift.id!==e);this.cartSubject.next([...t])}updateCartCount(e,t){let i=this.cartSubject.value.map(r=>r.gift.id===e?f(u({},r),{count:Math.max(1,t)}):r);this.cartSubject.next([...i])}clearCart(){this.cartSubject.next([])}getCartCount(){return this.cartSubject.value.reduce((e,t)=>e+t.count,0)}addToCheckout(e){let t=this.checkoutSubject.value,i=t.findIndex(r=>r.gift.id===e.id);i>-1?t[i].count+=1:t.push({gift:e,count:1}),this.checkoutSubject.next([...t])}removeFromCheckout(e){let t=this.checkoutSubject.value.filter(i=>i.gift.id!==e);this.checkoutSubject.next([...t])}updateCheckoutCount(e,t){let i=this.checkoutSubject.value.map(r=>r.gift.id===e?f(u({},r),{count:Math.max(1,t)}):r);this.checkoutSubject.next([...i])}clearCheckout(){this.checkoutSubject.next([])}getCheckoutCount(){return this.checkoutSubject.value.reduce((e,t)=>e+t.count,0)}getGiftsByCategory(e){return new b(t=>{this.gifts$.subscribe(i=>{let r=i.filter(c=>c.category===e);t.next(r)})})}filterGifts(e,t,i,r,c){return new b(d=>{this.gifts$.subscribe(g=>{let n=g.filter(s=>s.category===e);t&&(n=n.filter(s=>s.subcategory===t)),i&&(n=n.filter(s=>s.role===i)),r&&(n=n.filter(s=>s.ageGroup===r)),c&&c!=="Any"&&(n=n.filter(s=>!s.gender||s.gender===c||s.gender==="Any")),d.next(n)})})}sortGifts(e,t){let i=[...e];switch(t){case"price-asc":return i.sort((r,c)=>r.price-c.price);case"price-desc":return i.sort((r,c)=>c.price-r.price);case"name":return i.sort((r,c)=>r.name.localeCompare(c.name));default:return i}}static \u0275fac=function(t){return new(t||o)};static \u0275prov=l({token:o,factory:o.\u0275fac,providedIn:"root"})};export{h as a};
