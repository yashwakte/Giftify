import{a as T}from"./chunk-BY3P32JL.js";import{i as O,j as P,k as E,l as $,q as V}from"./chunk-7GTSH2PX.js";import{Da as v,Ia as h,Na as _,T as d,U as p,Va as f,Wa as i,Xa as n,Ya as w,cb as y,eb as g,gb as l,kb as S,mb as c,nb as u,ob as k,sa as b,sb as I,ua as m,ub as x,vb as C,wb as M}from"./chunk-ASTL6CWT.js";function z(a,t){if(a&1){let e=y();i(0,"div",5),w(1,"img",6),i(2,"div",7)(3,"div",8),c(4),n(),i(5,"div",9),c(6),n(),i(7,"div",10),c(8),n()(),i(9,"div",11)(10,"button",12),g("click",function(){let r=d(e).$implicit,o=l(2);return p(o.decreaseCount(r.gift.id,r.count))}),c(11,"-"),n(),i(12,"span",13),c(13),n(),i(14,"button",12),g("click",function(){let r=d(e).$implicit,o=l(2);return p(o.increaseCount(r.gift.id,r.count))}),c(15,"+"),n()(),i(16,"button",14),g("click",function(){let r=d(e).$implicit,o=l(2);return p(o.removeItem(r.gift.id))}),c(17,"Remove"),n(),i(18,"button",15),g("click",function(){let r=d(e).$implicit,o=l(2);return p(o.buyNow(r.gift))}),c(19,"Buy Now"),n()()}if(a&2){let e=t.$implicit;m(),f("alt",I(e.gift.name))("src",e.gift.image||"https://via.placeholder.com/80x80?text=Gift",b),m(3),u(e.gift.name),m(2),u(e.gift.description),m(2),k("$",e.gift.price),m(5),u(e.count)}}function F(a,t){if(a&1&&(i(0,"div")(1,"div",3),_(2,z,20,7,"div",4),x(3,"async"),n()()),a&2){let e=l();m(2),f("ngForOf",C(3,1,e.cartItems$))}}function j(a,t){a&1&&(i(0,"div",16),c(1,"Your cart is empty."),n())}var N=class a{constructor(t,e){this.cartService=t;this.checkoutService=e;this.cartItems$=this.cartService.cart$}cartItems$;increaseCount(t,e){this.cartService.updateCartCount(t,e+1)}decreaseCount(t,e){e>1&&this.cartService.updateCartCount(t,e-1)}removeItem(t){this.cartService.removeFromCart(t)}buyNow(t){this.checkoutService.addToCheckout(t)}static \u0275fac=function(e){return new(e||a)(v(T),v(V))};static \u0275cmp=h({type:a,selectors:[["app-cart"]],decls:7,vars:4,consts:[["emptyCart",""],[1,"cart-page"],[4,"ngIf","ngIfElse"],[1,"cart-list"],["class","cart-item",4,"ngFor","ngForOf"],[1,"cart-item"],[1,"cart-img",3,"src","alt"],[1,"cart-details"],[1,"cart-name"],[1,"cart-desc"],[1,"cart-price"],[1,"cart-controls"],[3,"click"],[1,"cart-count"],[1,"remove-btn",3,"click"],[1,"buy-now-btn",3,"click"],[1,"empty-message"]],template:function(e,s){if(e&1&&(i(0,"div",1)(1,"h2"),c(2,"Your Cart"),n(),_(3,F,4,3,"div",2),x(4,"async"),_(5,j,2,0,"ng-template",null,0,M),n()),e&2){let r,o=S(6);m(3),f("ngIf",(r=C(4,2,s.cartItems$))==null?null:r.length)("ngIfElse",o)}},dependencies:[$,O,P,E],styles:[".cart-page[_ngcontent-%COMP%]{background:#e4ecf1;min-height:100vh;padding:2rem}.buy-now-btn[_ngcontent-%COMP%]{background:linear-gradient(90deg,#538ce7,#81aae7);color:#fff;border:none;border-radius:4px;padding:.5rem 1.2rem;margin-left:1rem;font-weight:600;font-size:1rem;cursor:pointer;box-shadow:0 2px 8px #51aae721;transition:background .2s,box-shadow .2s}.buy-now-btn[_ngcontent-%COMP%]:hover{background:linear-gradient(90deg,#357abd,#538ce7);box-shadow:0 4px 16px #538ce7aa}.cart-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1.5rem}.cart-item[_ngcontent-%COMP%]{display:flex;align-items:center;background:#fff;border-radius:8px;box-shadow:0 2px 8px #00000014;padding:1rem}.cart-img[_ngcontent-%COMP%]{width:80px;height:80px;object-fit:cover;border-radius:8px;margin-right:1rem}.cart-details[_ngcontent-%COMP%]{flex:1}.cart-name[_ngcontent-%COMP%]{font-weight:700;font-size:1.1rem}.cart-desc[_ngcontent-%COMP%]{color:#666;font-size:.95rem}.cart-price[_ngcontent-%COMP%]{color:#c34b4b;font-weight:700;margin-top:.5rem}.cart-controls[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem}.cart-count[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:700;min-width:32px;text-align:center}.remove-btn[_ngcontent-%COMP%]{background:#c34b4b;color:#fff;border:none;border-radius:4px;padding:.5rem 1rem;margin-left:1rem;cursor:pointer}.empty-message[_ngcontent-%COMP%]{text-align:center;color:#888;font-size:1.2rem;margin-top:2rem}"]})};export{N as Cart};
