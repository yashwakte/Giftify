import{J as u,a as i,b as o,h as n}from"./chunk-ASTL6CWT.js";var s=class a{cartSubject=new n([]);cart$=this.cartSubject.asObservable();addToCart(r){let t=this.cartSubject.value,e=t.findIndex(c=>c.gift.id===r.id);e>-1?t[e].count+=1:t.push({gift:r,count:1}),this.cartSubject.next([...t])}removeFromCart(r){let t=this.cartSubject.value.filter(e=>e.gift.id!==r);this.cartSubject.next([...t])}updateCartCount(r,t){let e=this.cartSubject.value.map(c=>c.gift.id===r?o(i({},c),{count:Math.max(1,t)}):c);this.cartSubject.next([...e])}clearCart(){this.cartSubject.next([])}getCartCount(){return this.cartSubject.value.reduce((r,t)=>r+t.count,0)}static \u0275fac=function(t){return new(t||a)};static \u0275prov=u({token:a,factory:a.\u0275fac,providedIn:"root"})};export{s as a};
